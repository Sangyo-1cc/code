<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>AI 영상 분석 코치 🏋️</h1>
            <p>당신의 운동 자세, AI가 분석해 드립니다.</p>
        </header>

        <main>
            <section id="upload-section" class="card">
                <h3>1. 영상 업로드</h3>
                <div class="file-upload-wrapper">
                    <label for="videoUpload" class="file-label">여기를 눌러 영상 선택 📂</label>
                    <input type="file" id="videoUpload" accept="video/*" style="display:none;">
                </div>
                <div id="initial-status" style="text-align:center; margin-top:20px;">AI 모델을 로딩 중입니다...</div>
                <p class="privacy-note">**개인 정보 보호:** 업로드하신 영상은 사용자 기기에서만 분석되며, **어떠한 영상도 서버에 저장되지 않습니다.**</p>
            </section>

            <section id="analysis-section" class="card" style="display: none;">
                <h3>2. 영상 확인 및 분석</h3>
                <div id="videoContainer">
                    <video id="analysisVideo" playsinline style="display:none;"></video>
                    <canvas id="output_canvas" class="output-canvas"></canvas>
                </div>
                <div id="status" class="status-container"></div>
                <div class="controls">
                    <button id="startAnalysisBtn" class="button-primary">이 영상으로 분석 시작하기 🔬</button>
                </div>
                <div class="ad-container">
                    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-YOUR_ADSENSE_ID" data-ad-slot="YOUR_AD_SLOT_ID" data-ad-format="auto" data-full-width-responsive="true"></ins>
                </div>
            </section>

            <section id="result-section" class="card" style="display: none;">
                <h3>3. 최종 분석 결과 🏆</h3>

                <div id="story-canvas-container" style="background-color: #eee; padding:10px; border-radius: 8px;">
                     <canvas id="story-canvas" width="400" height="711"></canvas>
                </div>
                
                <div id="coach-feedback-area">
                    <h4>AI 코치의 한마디 🤖</h4>
                    <div id="feedbackList"></div> </div>
                
                <div id="no-squat-result-area" style="display: none;">
                    </div>
                
                <button id="shareStoryBtn" class="button-primary">📸 결과 이미지 다운로드</button>
                <button id="resetBtn" style="margin-top: 10px; background-color: var(--secondary-color); color: white; width: 100%;">새로운 영상 분석하기 🔄</button>
                
                <div class="ad-container">
                    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-YOUR_ADSENSE_ID" data-ad-slot="YOUR_AD_SLOT_ID_2" data-ad-format="auto" data-full-width-responsive="true"></ins>
                </div>
            </section>
        </main>
    </div>
    
    <script type="module" src="script.js"></script>
</body>
</html>
